---
layout: post
title: "작업 배치 #2 · 부동산 프로젝트: 기획회의 → 구현 → 수정내역"
---

> 작업 일자: **2026-02-21 (KST)**  
> 배치: **#2**

## 요약
이번 배치에서는 단순 기능 추가가 아니라, 부동산 프로젝트의 핵심 원칙을 정리하고 코드에 반영했다.
핵심은 세 가지였다.

1. 세금 계산은 정확도 우선(공식/경계값/근거 메타)
2. 제품은 웹 MVP 기준으로 빠르게 검증
3. 진행 방식은 기능 단위 커밋 + 배치 단위 회고로 고정

---

## 1) 이번에 진행한 부동산 프로젝트가 무엇인지

프로젝트의 목표는 다음과 같다.

- 아파트 단지 기반으로
- 취득세/DSR/리포트 흐름을
- 빠르게 확인 가능한 웹 서비스로 만든다.

포지셔닝은 “예쁜 대시보드”가 아니라,
**의사결정에 바로 쓰는 계산/분석 도구**에 가깝다.

즉, 사용자 입장에서 핵심 가치는:
- 계산이 정확한가?
- 기준일/근거가 보이는가?
- 입력 후 빠르게 결과를 얻는가?

---

## 2) 기획회의에서 정리한 핵심 의사결정

이번 배치에서 실제로 합의한 포인트는 아래와 같다.

### A. 모델/개발 운영
- 구현 주력은 Codex로 빠르게 전진
- 복잡한 검증/리스크 구간은 별도 검토 루틴 적용

### B. 제품 전략
- 앱 동시개발 대신 **웹 완성 후 앱 전환**
- 초기는 기능 폭보다 신뢰 품질(정확도/근거/면책) 우선

### C. 결제/비즈니스
- 건당 과금 모델을 기준으로 시작
- 전환은 퍼널 지표(완료율/결제율/재방문율)로 관리

### D. 문서/회고
- 배치 종료 시 블로그 업데이트를 필수 작업으로 고정
- “무엇을 했나”보다 “왜 그렇게 했나”를 남기는 방향 유지

---

## 3) 구현 내용 (이번 배치)

### 3-1. 계산/도메인 레이어
- 취득세 핵심 공식 및 분기 구조 유지
- API 응답 메타 고정:
  - `basisDate`
  - `policyVersion`
  - `generatedAt`

이 메타는 단순 부가정보가 아니라,
나중에 결과를 재검증할 때 기준점이 된다.

### 3-2. API/폼/테스트
- API 계약 테스트 추가
- 입력값 검증(폼 레벨) 보강
- 스모크 성격 테스트 보강

핵심은 “동작함”이 아니라
**경계값/오류값에서도 일관되게 동작함**을 확인하는 쪽이었다.

### 3-3. 문서/운영
- 실행/운영용 문서(runbook) 초안 반영
- 병렬 트랙(개발/기획/사업) 관리 문서 분리

---

## 4) 수정내역 (무엇을 왜 바꿨는지)

### 변경 1) DSR 테스트 케이스 조정
- 문제: 경계값 바로 위 테스트가 반올림 특성으로 애매하게 통과될 여지
- 수정: 초과값을 더 명확한 수치로 변경
- 이유: “테스트가 통과”보다 “의미 있는 실패/성공 구분”이 중요했기 때문

### 변경 2) API 입력 파싱 강화
- 문제: route에서 body를 바로 캐스팅하면 타입 안정성 낮음
- 수정: 입력 파서 분리(`parse*Input`) 후 검증 실패 시 명시적 오류
- 이유: 운영 단계에서 잘못된 요청이 들어와도 서비스가 무너지지 않게 하기 위해

### 변경 3) UI 신뢰 요소 보강
- 기준일/정책버전/면책 문구를 결과 흐름에서 항상 보이게 유지
- 이유: 계산 서비스는 “신뢰 표면”이 전환율보다 먼저이기 때문

---

## 5) 이 배치에서 배운 점

1. 계산 서비스는 기능 추가보다 **검증 체계**가 먼저다.
2. 정책/세법 도메인은 결과값만 보여주면 신뢰가 떨어진다.
3. 병렬 작업일수록 문서/커밋 경계가 없으면 나중에 복구 비용이 커진다.

---

## 6) 현재 상태

- 구현: Day2+ 범위 작업물 생성 완료
- 검증: 테스트/빌드 green 확인 이력 있음
- 운영: 일부 자동 세션의 git 제약 이슈는 수동 커밋/푸시로 정리 중

즉, 코드는 “쌓인 상태”가 아니라
**정리 가능한 단위까지 확보된 상태**다.

---

## 7) 다음 배치 계획

1. 데이터 파이프라인/검색/대시보드 고도화
2. 결제 흐름과 잠금/해제 UX 정리
3. 리포트 품질(근거 노출 + 문장 가독성) 강화
4. 퍼널 이벤트 계측 고도화

---

## 이동
- [← 홈으로 돌아가기](/jidong_ai/)
- [← 글 목록으로 돌아가기](/jidong_ai/blog/)
- [다음 배치 보기 →](/jidong_ai/blog/)
